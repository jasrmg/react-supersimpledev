<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prac</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        width: 100%;
        height: 100%;

        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      .btn {
        padding: 10px 20px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        color: white;
      }
      .light {
        background: white;
        color: black;
      }

      .dark {
        background: #0a1f44;
        color: white;
      }
      /* ==================================================================================================== */
      .on {
        background-color: rgb(25, 135, 84);
      }
      .off {
        background-color: rgb(220, 53, 69);
      }
      /* ==================================================================================================== */
      .login-container {
        display: flex;
        flex-direction: column;
        border: 1px solid black;
        padding: 20px;
        gap: 20px;
      }
      .login-container input {
        padding: 10px;
        border-radius: 10px;
        border: 1px solid black;
      }
      .action-container {
        display: flex;
        gap: 10px;
      }
      /* ==================================================================================================== */
      .login {
        background-color: rgb(0, 123, 255);
      }
      .signup {
        background-color: rgb(0, 123, 255);
      }
    </style>
  </head>
  <body>
    <div class="root"></div>
    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>
    <script src="https://unpkg.com/supersimpledev/dayjs.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    <script type="text/babel">
      const Stopwatch = () => {
        const [time, setTime] = React.useState(0);
        const intervalRef = React.useRef(null);

        React.useEffect(() => {
          return () => {
            if (intervalRef.current !== null) {
              clearInterval(intervalRef.current);
            }
          };
        }, []);

        const start = () => {
          if (intervalRef.current !== null) return;

          intervalRef.current = setInterval(() => {
            setTime((p) => p + 1);
          }, 1000);
        };

        const stop = () => {
          if (intervalRef.current !== null) {
            clearInterval(intervalRef.current);
            intervalRef.current = null;
          }
        };

        return (
          <div>
            <h2>Stopwatch</h2>
            <h4>Time: {time}</h4>
            <button onClick={start}>Start</button>
            <button onClick={stop}>Stop</button>
          </div>
        );
      };

      const TypingInput = () => {
        const [count, setCount] = React.useState(0);
        const inputRef = React.useRef(null);

        React.useEffect(() => {
          if (inputRef.current !== null) {
            inputRef.current.focus();
          }
        }, []);

        const handleChange = (e) => {
          setCount(e.target.value.length);
        };

        const focusInput = () => {
          if (inputRef.current !== null) {
            inputRef.current.focus();
          }
        };

        return (
          <div>
            <h2>Typing Input</h2>
            <h4>Count: {count}</h4>
            <input
              type="text"
              ref={inputRef}
              onChange={handleChange}
              placeholder="Type anything"
            />
            <button onClick={focusInput}>Focus</button>
          </div>
        );
      };

      const App = () => {
        const [show, setShow] = React.useState(true);

        return (
          <div>
            <h3>App</h3>
            <button onClick={() => setShow(!show)}>Toggle</button>
            {show ? <Stopwatch /> : <TypingInput />}
          </div>
        );
      };

      //
      const DarkLightMode = () => {
        const [theme, setTheme] = React.useState("light");

        return (
          <div className={`container ${theme}`}>
            <button
              className="toggle-btn btn"
              onClick={() => setTheme(theme === "light" ? "dark" : "light")}
            >
              {theme.toUpperCase()}
            </button>
          </div>
        );
      };

      const Four = () => {
        const [isButtonOn, setIsButtonOn] = React.useState(true);

        return (
          <button
            className={`${isButtonOn ? "on" : "off"} btn`}
            onClick={() => setIsButtonOn(isButtonOn === true ? false : true)}
          >
            {isButtonOn ? "ON" : "OFF"}
          </button>
        );
      };

      const ChallengeExercise = () => {
        const [showPassword, setShowPassword] = React.useState(false);

        const [time, setTime] = React.useState(dayjs().format("HH:mm:ss"));

        React.useEffect(() => {
          setInterval(() => {
            console.log("run code");
            setTime(dayjs().format("HH:mm:ss"));
          }, 1000);
        });

        return (
          <>
            <form className="login-container">
              <h2>Hello, Welcome to my Website</h2>
              <input type="email" placeholder="Email" />
              <input
                type={showPassword === false ? "password" : "text"}
                placeholder="Password"
              />
              <div className="action-container">
                <button className="login btn" type="submit">
                  Login
                </button>
                <button className="signup btn" type="submit">
                  Sign up
                </button>
                <button
                  className="on btn"
                  type="button"
                  onClick={() => setShowPassword(!showPassword)}
                >
                  {showPassword === false ? "Show" : "Hide"}
                </button>
              </div>
            </form>
            <h2> Current Time: {time}</h2>
          </>
        );
      };
      const container = document.querySelector(".root");
      const root = ReactDOM.createRoot(container);
      root.render(<App />);
    </script>
  </body>
</html>
